## 三大范式

## 事务与隔离

### 1.事务的特性

事务（transaction）是由指逻辑上对数据的的一组操作。

1. 原子性：事务包含的所有操作要么全部成功，要么全部失败回滚;成功必须要完全应用到数据库，失败则不能对数据库产生影响；

2. 一致性：事务必须使数据库从一个一致性状态变换到另一个一致性状态，也就是说一个事务执行之前和执行之后都必须处于一致性状态。

3. 隔离性：当多个用户并发访问数据库时，数据库为每一个用户开启的事务，不被其他事务的操作所干扰，多个并发事务之间要相互隔离；

4. 持久性：一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便在数据库系统遇到故障的情况下也不会丢失事物的操作。

### 2.隔离性

隔离性：当多个线程都开启事务来操作数据库中的数据时，数据库系统要进行隔离操作，以保证各个线程获取数据的准确性。

1. 数据访问冲突的类型：

   1) 脏写。即一个事务的没提交之前的修改可以被另外一个事务的修改覆盖掉。(绝不允许！)
   
   2) 脏读。即一个事务的没提交之前的修改被另外一个事务可以看到。
   
   3) 不可重复。指在对于数据库中的某个数据，一个事务范围内多次查询却返回了不同的数据值，这是由于在查询间隔，被另一个事务修改并提交了。
   
   4) 幻读。一个事务两次读取，第二次读取读到了另一个事务插入的数据。 （不可重复读是读到了被修改数据，幻读是读到了新增的数据）。

2. 数据库提供的四种隔离级别：

   1）Read uncommitted(读未提交)：最低级别，任何情况都会发生。(除了脏写都会发生)
   
   2) Read Committed(读已提交)：可避免脏读的发生。
   
   3) Repeatable read(可重复读)：可避免脏读、不可重复读的发生。
   
   4) Serializable(串行化)：避免脏读、不可重复读，幻读的发生。
   
   
## 索引

